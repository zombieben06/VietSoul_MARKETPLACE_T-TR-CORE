<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Viet Soul - Trang Ch·ªß & Marketplace</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Inter:wght@100..900&display=swap" rel="stylesheet">
    
    <style>
        /* 1. KHAI B√ÅO FONT SVN-Agency FB */
        @font-face {
            font-family: 'SVN Agency FB';
            src: url('SVN-Agency FB.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
        }

        /* M√†u s·∫Øc & Font t√πy ch·ªânh */
        :root {
            --color-primary: #8B0000; /* ƒê·ªè ƒê√¥ / Maroon */
            --color-secondary: #FFD700; /* V√†ng Gold */
            --color-background: #FFF8E1; /* Kem Nh·∫°t */
            --font-display: 'SVN Agency FB', 'Playfair Display', serif;
            --font-body: 'Inter', sans-serif;
        }

        body {
            font-family: var(--font-body);
            background-color: var(--color-background);
            color: #333;
            scroll-behavior: smooth;
        }

        .text-display, h1, h2, h3, h4, .font-heading { 
            font-family: var(--font-display); 
        }
        
        .bg-primary { background-color: var(--color-primary); }
        .text-primary { color: var(--color-primary); }
        .bg-secondary { background-color: var(--color-secondary); }
        .text-secondary { color: var(--color-secondary); }

        /* Animation & UI Effects */
        .btn-hover:hover {
            background-color: var(--color-secondary);
            color: var(--color-primary);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transform: translateY(-1px);
        }
        
        .product-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease, border 0.3s ease;
        }
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(139, 0, 0, 0.15);
        }

        .map-pin { animation: pulse-pin 1.5s infinite; }
        @keyframes pulse-pin {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.3); opacity: 0.7; }
            100% { transform: scale(1); opacity: 1; }
        }

        /* Chatbot bubble styles */
        .chat-bubble-user {
            background-color: var(--color-primary);
            color: white;
            border-bottom-right-radius: 0;
        }
        .chat-bubble-ai {
            background-color: white;
            color: #333;
            border: 1px solid #e2c68c;
            border-bottom-left-radius: 0;
        }

        .tab-btn.active {
            border-bottom: 3px solid var(--color-primary);
            color: var(--color-primary);
            font-weight: bold;
        }

        .filter-btn {
            background-color: white;
            color: var(--color-primary);
            transition: all 0.3s;
        }
        .filter-btn.active {
            background-color: var(--color-primary);
            color: white;
        }

        .hidden-page { display: none; }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- SHARED HEADER -->
    <header class="bg-primary shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3 flex items-center justify-between">
            <span onclick="showPage('home')" class="text-5xl text-white font-bold tracking-widest text-display cursor-pointer uppercase">VIET SOUL</span>
            <span class="text-sm ml-3 px-2 py-1 rounded-full bg-brand-accent text-white font-semibold">
                CULTURE & GREEN COMMERCE
            </span>
            
            <div class="hidden lg:flex flex-1 mx-8 max-w-xl">
                <input type="text" placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m, danh m·ª•c..." class="w-full p-2 rounded-l-md border-none focus:ring-2 focus:ring-secondary text-gray-800 text-sm" />
                <button class="bg-secondary text-primary p-2 rounded-r-md hover:opacity-90 transition">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                </button>
            </div>

            <div class="flex space-x-4 text-white">
                <button class="flex items-center space-x-1 p-2 rounded-full hover:bg-white/10 transition group">
                    <svg class="w-6 h-6 group-hover:text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
                    <span class="hidden sm:inline text-xs">T√†i kho·∫£n</span>
                </button>
                <button class="relative flex items-center space-x-1 p-2 rounded-full hover:bg-white/10 transition group">
                    <svg class="w-6 h-6 group-hover:text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                    <span class="absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-[10px] font-bold bg-secondary text-primary rounded-full transform translate-x-1/2 -translate-y-1/2">3</span>
                </button>
            </div>
        </div>
        <nav class="bg-primary border-t border-white/20 text-sm">
            <div class="container mx-auto px-4">
                <ul class="flex justify-center space-x-4 lg:space-x-8 py-2 overflow-x-auto">
                    <li><a href="javascript:void(0)" onclick="showPage('home')" class="block py-2 px-2 text-white hover:text-secondary border-b-2 border-transparent hover:border-secondary transition whitespace-nowrap font-heading">TRANG CH·ª¶</a></li>
                    <li><a href="javascript:void(0)" onclick="showPage('products')" class="block py-2 px-2 text-white hover:text-secondary border-b-2 border-transparent hover:border-secondary transition whitespace-nowrap font-heading">DANH M·ª§C</a></li>
                    <li><a href="#" class="block py-2 px-2 text-white hover:text-secondary border-b-2 border-transparent hover:border-secondary transition whitespace-nowrap font-heading">M√É GI·∫¢M GI√Å</a></li>
                    <li><a href="#" class="block py-2 px-2 text-white hover:text-secondary border-b-2 border-transparent hover:border-secondary transition whitespace-nowrap font-heading">B·ªò S∆ØU T·∫¨P</a></li>
                    <li><a href="#" class="block py-2 px-2 text-white hover:text-secondary border-b-2 border-transparent hover:border-secondary transition whitespace-nowrap font-heading">L√ÄNG NGH·ªÄ</a></li>
                    <li><a href="#" class="block py-2 px-2 text-white hover:text-secondary border-b-2 border-transparent hover:border-secondary transition whitespace-nowrap font-heading">CHƒÇM S√ìC KH√ÅCH H√ÄNG</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <div id="main-content">
        <!-- PAGE 1: HOME PAGE -->
        <main id="home-page" class="flex-1">
            <!-- Hero/Banner Section (3 c·ªôt) -->
            <section class="px-4 mt-6">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <!-- Banner 1: ƒê√®n L·ªìng -->
                    <a href="#" class="relative overflow-hidden rounded-lg shadow-xl group h-64 sm:h-80 lg:h-96">
                        <img src="https://i.ex-cdn.com/vntravellive.com/files/news/2019/05/02/the-gioi-den-long-ruc-ro-o-hoi-an-161742.jpg" alt="ƒê√®n L·ªìng" class="w-full h-full object-cover transition duration-500 group-hover:scale-105" onerror="this.onerror=null;this.src='https://placehold.co/1200x960/A0522D/FFF8E1?text=ƒê√àN+L·ªíNG+H·ªòI+AN';">
                        <div class="absolute inset-0 bg-black/30 flex items-center justify-center opacity-100 group-hover:opacity-100 transition duration-300">
                            <span class="text-3xl font-bold text-white p-3 border-2 border-white rounded-lg text-display">KH√ÅM PH√Å ƒê√àN L·ªíNG</span>
                        </div>
                    </a>
                    
                    <!-- Banner 2: Tranh D√¢n Gian -->
                    <a href="#" class="relative overflow-hidden rounded-lg shadow-xl group h-64 sm:h-80 lg:h-96">
                        <img src="https://static.vinwonders.com/2023/02/tranh-lang-sinh-topbanner.jpg" alt="Tranh D√¢n Gian" class="w-full h-full object-cover transition duration-500 group-hover:scale-105" onerror="this.onerror=null;this.src='https://placehold.co/1200x960/8B4513/FFF8E1?text=TRANH+D√ÇN+GIAN';">
                        <div class="absolute inset-0 bg-black/30 flex items-center justify-center opacity-100 group-hover:opacity-100 transition duration-300">
                            <span class="text-3xl font-bold text-white p-3 border-2 border-white rounded-lg text-display">NGH·ªÜ THU·∫¨T D√ÇN GIAN</span>
                        </div>
                    </a>

                    <!-- Banner 3: ƒê·ªì ƒêan L√°t -->
                    <a href="#" class="relative overflow-hidden rounded-lg shadow-xl group h-64 sm:h-80 lg:h-96">
                        <img src="https://th.bing.com/th/id/R.c65c05aa5af9e8d74e248460c022d281?rik=itZPM7MUxMGW9Q&pid=ImgRaw&r=0" alt="ƒêan L√°t Tre" class="w-full h-full object-cover transition duration-500 group-hover:scale-105" onerror="this.onerror=null;this.src='https://placehold.co/1200x960/B8860B/FFF8E1?text=ƒêAN+L√ÅT+TH·ª¶+C√îNG';">
                        <div class="absolute inset-0 bg-black/30 flex items-center justify-center opacity-100 group-hover:opacity-100 transition duration-300">
                            <span class="text-3xl font-bold text-white p-3 border-2 border-white rounded-lg text-display">S·∫¢N PH·∫®M M√ÇY TRE</span>
                        </div>
                    </a>
                </div>
            </section>

            <!-- COMBINED SECTION: FLASH SALE (LEFT) & FEATURED PRODUCTS (RIGHT) -->
            <section class="container mx-auto px-4 my-10">
                <div class="grid grid-cols-1 lg:grid-cols-4 xl:grid-cols-12 gap-6 lg:gap-8">
                    
                    <!-- LEFT COLUMN (Flash Sale & Promotional Banner) -->
                    <div class="lg:col-span-1 xl:col-span-3 flex flex-col space-y-6">
                        
                        <!-- 1. Flash Sale Box -->
                        <div class="bg-primary text-white p-6 rounded-xl shadow-2xl flex flex-col items-center text-center">
                            <h2 class="text-2xl font-bold text-secondary text-display mb-3">FLASH SALE</h2>
                            
                            <!-- ƒê·ªìng h·ªì ƒë·∫øm ng∆∞·ª£c -->
                            <div id="countdown-timer" class="flex justify-center space-x-2 mb-4 text-sm">
                                <div class="flex flex-col items-center bg-secondary text-primary p-2 rounded shadow-inner">
                                    <span id="days" class="text-2xl font-extrabold text-display">00</span>
                                    <span class="text-xs">Ng√†y</span>
                                </div>
                                <div class="flex flex-col items-center bg-secondary text-primary p-2 rounded shadow-inner">
                                    <span id="hours" class="text-2xl font-extrabold text-display">00</span>
                                    <span class="text-xs">Gi·ªù</span>
                                </div>
                                <div class="flex flex-col items-center bg-secondary text-primary p-2 rounded shadow-inner">
                                    <span id="minutes" class="text-2xl font-extrabold text-display">00</span>
                                    <span class="text-xs">Ph√∫t</span>
                                </div>
                                <div class="flex flex-col items-center bg-secondary text-primary p-2 rounded shadow-inner">
                                    <span id="seconds" class="text-2xl font-extrabold text-display">00</span>
                                    <span class="text-xs">Gi√¢y</span>
                                </div>
                            </div>
                            
                            <p class="text-sm mb-4">∆Øu ƒë√£i l√™n ƒë·∫øn 50%!</p>

                            <a href="#" class="px-4 py-2 bg-secondary text-primary font-bold rounded-full text-sm btn-hover transition duration-300 hover:scale-105">
                                SƒÇN SALE
                            </a>
                        </div>
                        
                        <!-- 2. Promotional Banner -->
                        <a href="#" class="relative overflow-hidden rounded-lg shadow-2xl group h-64 bg-primary">
                            <!-- Background Pattern -->
                            <div class="absolute inset-0 opacity-5">
                                <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
                                    <defs>
                                        <pattern id="dot-pattern" x="0" y="0" width="40" height="40" patternUnits="userSpaceOnUse">
                                            <circle cx="20" cy="20" r="1" fill="white"/>
                                        </pattern>
                                    </defs>
                                    <rect width="100%" height="100%" fill="url(#dot-pattern)"/>
                                </svg>
                            </div>
                            
                            <!-- Header Text "∆Øu ƒë√£i ƒë·ªôc quy·ªÅn" -->
                            <div class="absolute top-4 left-0 right-0 text-center">
                                <h3 class="text-secondary text-xl font-black text-display tracking-widest drop-shadow-lg" style="text-shadow: 2px 2px 4px rgba(0,0,0,0.5);">
                                    ∆ØU ƒê√ÉI ƒê·ªòC QUY·ªÄN
                                </h3>
                            </div>
                            
                            <div class="absolute inset-0 bg-gradient-to-t to-transparent flex flex-col justify-end p-6">
                                <div class="transform transition duration-300 group-hover:translate-y-[-4px]">
                                    <p class="text-secondary text-sm font-bold mb-1 animate-pulse">‚ö° NHANH TAY K·∫∫O L·ª†</p>
                                    <h3 class="text-white text-2xl font-bold text-display mb-2">VietSoul Premium</h3>
                                    <p class="text-white/90 text-sm mb-3">B·ªô s∆∞u t·∫≠p ƒë·ªôc quy·ªÅn ch·ªâ c√≥ t·∫°i VietSoul</p>
                                    <div class="inline-block px-4 py-1 bg-secondary text-primary text-xs font-bold rounded-full">
                                        GI·∫¢M ƒê·∫æN 40%
                                    </div>
                                </div>
                            </div>
                        </a>

                        <!-- 3. L√†ng Ngh·ªÅ N·ªïi B·∫≠t -->
                        <div class="relative overflow-hidden rounded-lg shadow-2xl group h-64 bg-gradient-to-br from-amber-700 via-yellow-800 to-orange-900">
                            <!-- Background Pattern -->
                            <div class="absolute inset-0 opacity-10">
                                <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
                                    <defs>
                                        <pattern id="craft-pattern" x="0" y="0" width="50" height="50" patternUnits="userSpaceOnUse">
                                            <path d="M25 5 L30 15 L20 15 Z M25 45 L30 35 L20 35 Z M5 25 L15 20 L15 30 Z M45 25 L35 20 L35 30 Z" fill="currentColor" opacity="0.3"/>
                                        </pattern>
                                    </defs>
                                    <rect width="100%" height="100%" fill="url(#craft-pattern)"/>
                                </svg>
                            </div>
                            
                            <!-- Header Text -->
                            <div class="absolute top-3 left-0 right-0 text-center mb-12">
                                <h2 class="text-white text-xl font-black text-display tracking-wider drop-shadow-lg" style="text-shadow: 2px 2px 4px rgba(0,0,0,0.5);">
                                    L√ÄNG NGH·ªÄ N·ªîI B·∫¨T
                                </h2>
                            </div>
                            
                            <!-- Content -->
                            <div class="absolute inset-0 flex flex-col justify-center items-center p-6 text-center">
                                <div class="transform transition duration-300 group-hover:scale-105">
                                    <div class="mb-4">
                                        <p class="text-white/90 text-sm mb-2">üìç Kh√°m ph√° ngh·ªá thu·∫≠t truy·ªÅn th·ªëng</p>
                                        <div class="space-y-1">
                                            <p class="text-secondary font-bold text-xs">‚Ä¢ G·ªëm B√°t Tr√†ng ‚Ä¢ L·ª•a V·∫°n Ph√∫c ‚Ä¢</p>
                                            <p class="text-secondary font-bold text-xs">‚Ä¢ Tranh ƒê√¥ng H·ªì ‚Ä¢ ƒê√®n L·ªìng H·ªôi An ‚Ä¢</p>
                                            <p class="text-secondary font-bold text-xs">‚Ä¢ M√¢y Tre Ph√∫ Vinh ‚Ä¢</p>
                                        </div>
                                    </div>
                                    <a href="#" class="inline-block px-5 py-2 bg-white text-amber-900 text-xs font-bold rounded-full hover:bg-secondary hover:text-primary transition duration-300 shadow-lg">
                                        KH√ÅM PH√Å NGAY
                                    </a>
                                </div>
                            </div>
                        </div>

                    </div>

                    
                    <!-- RIGHT COLUMN (Featured Products) -->
                    <div class="lg:col-span-3 xl:col-span-9">
                        <h2 class="text-3xl text-primary font-bold mb-4 pb-2 border-b-2 border-primary text-display">S·∫¢N PH·∫®M N·ªîI B·∫¨T</h2>
                        
                        <!-- PRODUCT GRID -->
                        <div id="featured-products-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                            <!-- S·∫£n ph·∫©m s·∫Ω ƒë∆∞·ª£c render b·∫±ng JavaScript -->
                        </div>

                        <div class="text-center mt-6">
                            <button onclick="showPage('products')" class="px-10 py-3 border-2 border-primary text-primary font-bold rounded-full hover:bg-primary hover:text-white transition uppercase text-sm tracking-widest font-heading shadow-md">
                                Xem t·∫•t c·∫£ s·∫£n ph·∫©m
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- NEW SECTION: L√ÄNG NGH·ªÄ V√Ä B·∫¢N ƒê·ªí -->
            <section class="container mx-auto px-4 my-16">
                <div class="bg-white rounded-2xl shadow-2xl overflow-hidden grid grid-cols-1 lg:grid-cols-2">
                    
                    <!-- LEFT COLUMN: VƒÇN B·∫¢N (Text) -->
                    <div class="p-8 lg:p-12 flex flex-col justify-center">
                        <h2 class="text-4xl text-primary font-bold mb-6 text-display">
                            Linh H·ªìn Vi·ªát Nam: T·ª´ L√†ng Ngh·ªÅ ƒë·∫øn Di S·∫£n VƒÉn H√≥a
                        </h2>
                        <p class="text-gray-700 leading-relaxed mb-4">
                            C√°c l√†ng ngh·ªÅ th·ªß c√¥ng truy·ªÅn th·ªëng t·ª´ bao ƒë·ªùi nay ƒë√£ tr·ªü th√†nh m·∫°ch m√°u vƒÉn h√≥a ch·∫£y b·ªÅn b·ªâ trong l√≤ng d√¢n t·ªôc. ƒê√≥ kh√¥ng ch·ªâ l√† n∆°i s·∫£n xu·∫•t ra nh·ªØng v·∫≠t ph·∫©m sinh ho·∫°t, m√† l√† nh·ªØng "b·∫£o t√†ng s·ªëng", n∆°i l∆∞u gi·ªØ nh·ªØng b√≠ quy·∫øt ch·∫ø t√°c tinh x·∫£o ƒë∆∞·ª£c truy·ªÅn n·ªëi qua h√†ng trƒÉm nƒÉm, t·ª´ b√†n tay cha sang √°nh m·∫Øt con, t·ª´ th·∫ø h·ªá n√†y sang th·∫ø h·ªá kh√°c.
M·ªói s·∫£n ph·∫©m ra ƒë·ªùi kh√¥ng ƒë∆°n thu·∫ßn l√† m·ªôt m√≥n ƒë·ªì v√¥ tri, m√† l√† m·ªôt ph·∫ßn t√¢m h·ªìn c·ªßa ng∆∞·ªùi ngh·ªá nh√¢n, l√† s·ª± giao thoa k·ª≥ di·ªáu gi·ªØa tinh hoa c·ªßa ƒë·∫•t tr·ªùi v√† s·ª± ki√™n nh·∫´n t·ªôt c√πng c·ªßa con ng∆∞·ªùi. 
                        </p>
                        <p class="text-gray-700 leading-relaxed mb-4">
Ch√∫ng t√¥i kh√¥ng ch·ªâ b√°n nh·ªØng s·∫£n ph·∫©m th·ªß c√¥ng; ch√∫ng t√¥i ƒëang k·ªÉ l·∫°i nh·ªØng c√¢u chuy·ªán ‚Äì chuy·ªán v·ªÅ nh·ªØng gi·ªçt m·ªì h√¥i r∆°i tr√™n x∆∞·ªüng g·ªó, chuy·ªán v·ªÅ ƒë√¥i m·∫Øt mi·ªát m√†i b√™n khung d·ªát d∆∞·ªõi √°nh ƒë√®n khuya. B·∫±ng c·∫£ ni·ªÅm t·ª± tr·ªçng v√† l√≤ng bi·∫øt ∆°n ngu·ªìn c·ªôi, ch√∫ng t√¥i khao kh√°t mang "linh h·ªìn Vi·ªát" v∆∞·ª£t qua m·ªçi bi√™n gi·ªõi, ƒë·ªÉ b·∫°n b√® qu·ªëc t·∫ø kh√¥ng ch·ªâ chi√™m ng∆∞·ª°ng m·ªôt s·∫£n ph·∫©m ƒë·∫πp, m√† c√≤n c·∫£m nh·∫≠n ƒë∆∞·ª£c nh·ªãp ƒë·∫≠p c·ªßa m·ªôt n·ªÅn vƒÉn h√≥a ngh√¨n nƒÉm vƒÉn hi·∫øn.
                        </p>
                        <p class="text-gray-700 leading-relaxed italic border-l-4 border-secondary pl-4 mb-6">
                            "T·ª´ nh·ªØng t·∫•m l·ª•a V·∫°n Ph√∫c m·ªÅm m·∫°i, ƒë·ªì g·ªëm B√°t Tr√†ng b·ªÅn b·ªâ, ƒë·∫øn nh·ªØng b·ª©c tranh d√¢n gian ƒê√¥ng H·ªì ƒë·∫ßy m√†u s·∫Øc, ch√∫ng t√¥i t·ª± h√†o mang linh h·ªìn Vi·ªát ƒë·∫øn g·∫ßn h∆°n v·ªõi th·∫ø gi·ªõi."
                        </p>
                        <ul class="space-y-2 text-sm font-semibold mb-6">
                            <li class="flex items-center text-primary">
                                <span class="text-xl mr-2">üåü</span> B·∫£o t·ªìn di s·∫£n Vi·ªát Nam.
                            </li>
                            <li class="flex items-center text-primary">
                                <span class="text-xl mr-2">üå±</span> Ph√°t tri·ªÉn b·ªÅn v·ªØng, th√¢n thi·ªán v·ªõi m√¥i tr∆∞·ªùng.
                            </li>
                            <li class="flex items-center text-primary">
                                <span class="text-xl mr-2">ü§ù</span> T·∫°o sinh k·∫ø cho c·ªông ƒë·ªìng ngh·ªá nh√¢n.
                            </li>
                        </ul>
                        <p class="text-gray-700 leading-relaxed italic border-l-4 border-secondary pl-4 mb-6">
"M·ªói s·∫£n ph·∫©m l√† m·ªôt nh·ªãp c·∫ßu, n·ªëi li·ªÅn qu√° kh·ª© huy ho√†ng ƒë·∫øn hi·ªán t·∫°i r·ª±c r·ª°, ƒë∆∞a nh·ªØng gi√° tr·ªã nguy√™n b·∫£n c·ªßa Vi·ªát Nam v∆∞∆°n xa t·∫≠n c√πng th·∫ø gi·ªõi."
                        </p>
                    </div>

                    <!-- RIGHT COLUMN: B·∫¢N ƒê·ªí (Map Image + Pins) -->
                    <div class="relative bg-primary/90 min-h-[400px] flex items-center justify-center p-4 overflow-hidden">
                        <!-- 1. The Map Image (Provided URL) -->
                        <img src="https://sackim.com/wp-content/uploads/2022/04/hinh-anh-ban-do-viet-nam-vector-03.jpg" 
                             alt="B·∫£n ƒë·ªì Vi·ªát Nam - L√†ng ngh·ªÅ" 
                             class="w-full h-full object-contain opacity-90 transition duration-300 scale-125 group-hover:scale-130"
                             onerror="this.onerror=null;this.src='https://placehold.co/400x900/4A90E2/FFF8E1?text=B·∫¢N+ƒê·ªí+VI·ªÜT+NAM';"
                             style="max-height: 90vh;">

                        <!-- 2. Overlay Container for Pins (relative to the map image container) -->
                        <!-- K√≠ch th∆∞·ªõc 100% ƒë·ªÉ ph·ªß k√≠n khu v·ª±c h√¨nh ·∫£nh b·∫£n ƒë·ªì -->
                        <div class="absolute inset-0 pointer-events-none flex justify-center items-center">
                            
                            <div class="relative w-full h-full max-w-lg"> <!-- Relative container cho c√°c pins -->

                                <!-- Pin: H√† N·ªôi/B√°t Tr√†ng (G·ªëm) -->
                                <div class="map-pin-container absolute" style="top: 19%; left: 31%;">
                                    <div class="map-pin w-5 h-5 rounded-full bg-red-600 border-2 border-secondary shadow-lg"></div>
                                    <span class="absolute top-1/2 left-6 -mt-3 whitespace-nowrap text-black text-sm font-bold text-display drop-shadow">H√† N·ªôi</span>
                                </div>

                                <!-- Pin: Hu·∫ø (Trung) -->
                                <div class="map-pin-container absolute" style="top: 42%; left: 36%;">
                                    <div class="map-pin w-5 h-5 rounded-full bg-red-600 border-2 border-secondary shadow-lg"></div>
                                    <span class="absolute top-1/2 left-6 -mt-3 whitespace-nowrap text-black text-sm font-bold text-display drop-shadow">Hu·∫ø</span>
                                </div>

                                <!-- Pin: TP.HCM (Nam) -->
                                <div class="map-pin-container absolute" style="top: 68%; left: 42%;">
                                    <div class="map-pin w-5 h-5 rounded-full bg-red-600 border-2 border-secondary shadow-lg"></div>
                                    <span class="absolute top-1/2 left-6 -mt-3 whitespace-nowrap text-black text-sm font-bold text-display drop-shadow">TP.HCM</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- NEW SECTION: DASHBOARD PH·∫¢N H·ªíI KH√ÅCH H√ÄNG -->
            <section class="container mx-auto px-4 my-16">
                <div class="bg-white rounded-2xl shadow-2xl p-8 lg:p-10">
                    <h2 class="text-3xl text-primary font-bold mb-8 text-display border-b border-primary/30 pb-3">
                        ƒê√°nh gi√° & Ph·∫£n h·ªìi Kh√°ch h√†ng
                    </h2>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
                        
                        <!-- COLUMN 1: K·∫æT QU·∫¢ T·ªîNG QUAN (KPI Card) -->
                        <div class="lg:col-span-1 bg-primary text-white rounded-xl p-6 flex flex-col items-center text-center shadow-xl">
                            <p class="text-sm font-semibold text-secondary mb-2 text-display">ƒêI·ªÇM TRUNG B√åNH CHUNG</p>
                            <div class="text-7xl font-extrabold text-secondary mb-2 text-display">
                                4.9
                            </div>
                            <div class="text-sm space-x-1 mb-4">
                                <span class="text-secondary">‚òÖ</span>
                                <span class="text-secondary">‚òÖ</span>
                                <span class="text-secondary">‚òÖ</span>
                                <span class="text-secondary">‚òÖ</span>
                                <span class="text-secondary">‚òÖ</span>
                            </div>
                            <span class="text-white mb-6">(12,500+ ƒë√°nh gi√°)</span>
                            <p class="text-xs opacity-80">98% kh√°ch h√†ng h√†i l√≤ng v·ªÅ ch·∫•t l∆∞·ª£ng s·∫£n ph·∫©m v√† d·ªãch v·ª•.</p>
                        </div>

                        <!-- COLUMN 2 & 3: STATISTIC CARDS (Grid 2x2) -->
                        <div class="lg:col-span-2 grid grid-cols-2 gap-4">
                            
                            <!-- Stat Card 1: Orders -->
                            <div class="bg-gray-100 p-4 rounded-xl shadow-md border-t-4 border-primary">
                                <p class="text-xs text-gray-500 font-semibold uppercase mb-1">T·ªîNG ƒê∆†N H√ÄNG</p>
                                <p class="text-3xl font-bold text-primary text-display mb-2">3,450+</p>
                                <p class="text-xs text-gray-600 mt-1">Giao d·ªãch th√†nh c√¥ng trong nƒÉm nay.</p>
                            </div>
                            
                            <!-- Stat Card 2: Customers -->
                            <div class="bg-gray-100 p-4 rounded-xl shadow-md border-t-4 border-secondary">
                                <p class="text-xs text-gray-500 font-semibold uppercase mb-1">KH√ÅCH H√ÄNG</p>
                                <p class="text-3xl font-bold text-primary text-display mb-2">1,800+</p>
                                <p class="text-xs text-gray-600 mt-1">Kh√°ch h√†ng th√¢n thi·∫øt v√† quay l·∫°i mua h√†ng.</p>
                            </div>
                            
                            <!-- Stat Card 3: Feedback Speed -->
                            <div class="bg-gray-100 p-4 rounded-xl shadow-md border-t-4 border-secondary">
                                <p class="text-xs text-gray-500 font-semibold uppercase mb-1">T·ªêC ƒê·ªò PH·∫¢N H·ªíI</p>
                                <p class="text-3xl font-bold text-primary text-display mb-2">45s</p>
                                <p class="text-xs text-gray-600 mt-1">Th·ªùi gian ph·∫£n h·ªìi trung b√¨nh c·ªßa ƒë·ªôi CSKH.</p>
                            </div>
                            
                            <!-- Stat Card 4: Green Commitment -->
                            <div class="bg-gray-100 p-4 rounded-xl shadow-md border-t-4 border-primary">
                                <p class="text-xs text-gray-500 font-semibold uppercase mb-1">CAM K·∫æT XANH</p>
                                <p class="text-3xl font-bold text-primary text-display mb-2">90%</p>
                                <p class="text-xs text-gray-600 mt-1">S·∫£n ph·∫©m c√≥ ch·ª©ng nh·∫≠n Green Tag.</p>
                            </div>

                        </div>

                        <!-- COLUMN 4: RATING BREAKDOWN (Visualization Mock) -->
                        <div class="lg:col-span-1 p-4 bg-gray-50 rounded-xl shadow-md">
                            <p class="text-base font-bold text-primary mb-3 text-display">Ph√¢n t√≠ch ƒê√°nh gi√° Sao</p>
                            
                            <!-- Rating 5 Star -->
                            <div class="flex items-center space-x-2 mb-1 text-sm">
                                <span class="font-bold">5 ‚òÖ</span>
                                <div class="w-full bg-gray-200 rounded-full h-2.5">
                                    <div class="bg-primary h-2.5 rounded-full rating-bar-5" style="width:85%"></div>
                                </div>
                                <span class="text-gray-600 text-xs">85%</span>
                            </div>

                            <!-- Rating 4 Star -->
                            <div class="flex items-center space-x-2 mb-1 text-sm">
                                <span class="font-bold">4 ‚òÖ</span>
                                <div class="w-full bg-gray-200 rounded-full h-2.5">
                                    <div class="bg-primary h-2.5 rounded-full rating-bar-4" style="width:10%"></div>
                                </div>
                                <span class="text-gray-600 text-xs">10%</span>
                            </div>
                            
                            <!-- Rating 3 Star -->
                            <div class="flex items-center space-x-2 mb-1 text-sm">
                                <span class="font-bold">3 ‚òÖ</span>
                                <div class="w-full bg-gray-200 rounded-full h-2.5">
                                    <div class="bg-primary h-2.5 rounded-full rating-bar-3" style="width:3%"></div>
                                </div>
                                <span class="text-gray-600 text-xs">3%</span>
                            </div>
                            
                            <!-- Rating 2 Star -->
                            <div class="flex items-center space-x-2 mb-1 text-sm">
                                <span class="font-bold">2 ‚òÖ</span>
                                <div class="w-full bg-gray-200 rounded-full h-2.5">
                                    <div class="bg-primary h-2.5 rounded-full rating-bar-2" style="width:1%"></div>
                                </div>
                                <span class="text-gray-600 text-xs">1%</span>
                            </div>
                            
                            <!-- Rating 1 Star -->
                            <div class="flex items-center space-x-2 mb-1 text-sm">
                                <span class="font-bold">1 ‚òÖ</span>
                                <div class="w-full bg-gray-200 rounded-full h-2.5">
                                    <div class="bg-primary h-2.5 rounded-full rating-bar-1" style="width:1%"></div>
                                </div>
                                <span class="text-gray-600 text-xs">1%</span>
                            </div>
                            
                            <p class="text-xs text-center text-gray-500 mt-4">T·∫•t c·∫£ d·ªØ li·ªáu ƒë√£ ƒë∆∞·ª£c x√°c th·ª±c.</p>
                        </div>

                    </div>
                </div>
            </section>
            <!-- END DASHBOARD SECTION -->

            <!-- NEW SECTION: FOUNDER SECTION (4 Founders) -->
            <section class="container mx-auto px-4 my-16 text-left">
                <div class="text-center mb-12">
                    <h2 class="text-4xl text-primary font-black text-display uppercase tracking-widest">ƒê·ªôi ng≈© S√°ng l·∫≠p</h2>
                    <div class="w-24 h-1 bg-secondary mx-auto mt-4 rounded-full"></div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-8">
                    <!-- Founder 1 -->
                    <div class="bg-white rounded-2xl shadow-xl overflow-hidden group hover:-translate-y-2 transition-all duration-300 border border-primary/5">
                        <div class="h-64 overflow-hidden">
                            <img src="Ph∆∞∆°ng Anh.jpg" class="w-full h-full object-cover transition duration-500" alt="Founder 1">
                        </div>
                        <div class="p-6 text-center">
                            <h3 class="text-xl font-black text-primary text-display uppercase mb-1">Hu·ª≥nh L∆∞∆°ng Ph∆∞∆°ng Anh</h3>
                            <p class="text-[10px] text-secondary font-bold uppercase tracking-widest mb-4">CEO & Founder</p>
                            <div class="relative">
                                <span class="absolute -top-4 -left-2 text-4xl text-primary/10 font-serif">‚Äú</span>
                                <p class="text-xs text-gray-600 italic leading-relaxed">VietSoul l√† nh·ªãp c·∫ßu n·ªëi li·ªÅn qu√° kh·ª© v√† t∆∞∆°ng lai, n∆°i m·ªói m√≥n qu√† g·ª≠i ƒëi l√† m·ªôt m·∫£nh linh h·ªìn Vi·ªát ƒë∆∞·ª£c lan t·ªèa.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Founder 2 -->
                    <div class="bg-white rounded-2xl shadow-xl overflow-hidden group hover:-translate-y-2 transition-all duration-300 border border-primary/5">
                        <div class="h-64 overflow-hidden">
                            <img src="Linh.png" class="w-full h-full object-cover transition duration-500" alt="Founder 2">
                        </div>
                        <div class="p-6 text-center">
                            <h3 class="text-xl font-black text-primary text-display uppercase mb-1">Ph·∫°m Nguy·ªÖn Huy·ªÅn Linh</h3>
                            <p class="text-[10px] text-secondary font-bold uppercase tracking-widest mb-4">COO & Co-Founder</p>
                            <div class="relative">
                                <span class="absolute -top-4 -left-2 text-4xl text-primary/10 font-serif">‚Äú</span>
                                <p class="text-xs text-gray-600 italic leading-relaxed">Ch√∫ng t√¥i tin r·∫±ng s·ª± b·ªÅn v·ªØng c·ªßa vƒÉn h√≥a n·∫±m ·ªü vi·ªác t·∫°o ra sinh k·∫ø h·∫°nh ph√∫c cho nh·ªØng ngh·ªá nh√¢n l√†ng ngh·ªÅ.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Founder 3 -->
                    <div class="bg-white rounded-2xl shadow-xl overflow-hidden group hover:-translate-y-2 transition-all duration-300 border border-primary/5">
                        <div class="h-64 overflow-hidden">
                            <img src="Th√†nh.jpg" class="w-full h-full object-cover transition duration-500" alt="Founder 3">
                        </div>
                        <div class="p-6 text-center">
                            <h3 class="text-xl font-black text-primary text-display uppercase mb-1">D∆∞∆°ng Ti·∫øn Th√†nh</h3>
                            <p class="text-[10px] text-secondary font-bold uppercase tracking-widest mb-4">CTO & Co-Founder</p>
                            <div class="relative">
                                <span class="absolute -top-4 -left-2 text-4xl text-primary/10 font-serif">‚Äú</span>
                                <p class="text-xs text-gray-600 italic leading-relaxed">C√¥ng ngh·ªá kh√¥ng thay th·∫ø b√†n tay ng∆∞·ªùi th·ª£, n√≥ gi√∫p k·ªÉ c√¢u chuy·ªán di s·∫£n theo c√°ch hi·ªán ƒë·∫°i v√† minh b·∫°ch nh·∫•t.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Founder 4 -->
                    <div class="bg-white rounded-2xl shadow-xl overflow-hidden group hover:-translate-y-2 transition-all duration-300 border border-primary/5">
                        <div class="h-64 overflow-hidden">
                            <img src="Kh√°nh.jpg" class="w-full h-full object-cover transition duration-500" alt="Founder 4">
                        </div>
                        <div class="p-6 text-center">
                            <h3 class="text-xl font-black text-primary text-display uppercase mb-1">Nguy·ªÖn Nam Kh√°nh</h3>
                            <p class="text-[10px] text-secondary font-bold uppercase tracking-widest mb-4">Design Director & Co-Founder</p>
                            <div class="relative">
                                <span class="absolute -top-4 -left-2 text-4xl text-primary/10 font-serif">‚Äú</span>
                                <p class="text-xs text-gray-600 italic leading-relaxed">M·ªói thi·∫øt k·∫ø t·∫°i VietSoul ƒë·ªÅu mang h∆°i th·ªü ƒë∆∞∆°ng ƒë·∫°i nh∆∞ng kh√¥ng bao gi·ªù xa r·ªùi g·ªëc r·ªÖ vƒÉn h√≥a b·∫£n ƒë·ªãa.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- PAGE 2: MARKETPLACE PAGE -->
        <main id="products-page" class="hidden-page flex-grow container mx-auto px-4 py-8 max-w-7xl text-left">
            <div class="grid grid-cols-1 md:grid-cols-12 gap-8">
                <!-- Sidebar -->
                <aside class="md:col-span-3 bg-white p-6 rounded-xl shadow-lg h-fit sticky top-28">
                    <h3 class="text-xl font-bold text-primary mb-4 border-b pb-2 text-display uppercase tracking-widest">Danh m·ª•c VƒÉn h√≥a</h3>
                    <div id="filter-container" class="space-y-2">
                        <button data-filter="all" class="filter-btn active w-full text-left py-2 px-4 rounded-lg hover:bg-primary hover:text-white transition font-heading">T·∫§T C·∫¢ S·∫¢N PH·∫®M</button>
                        <button data-filter="tranh" class="filter-btn w-full text-left py-2 px-4 rounded-lg hover:bg-primary hover:text-white transition font-heading">TRANH D√ÇN GIAN</button>
                        <button data-filter="gom" class="filter-btn w-full text-left py-2 px-4 rounded-lg hover:bg-primary hover:text-white transition font-heading">G·ªêM S·ª® & ƒêAN L√ÅT</button>
                        <button data-filter="lua" class="filter-btn w-full text-left py-2 px-4 rounded-lg hover:bg-primary hover:text-white transition font-heading">L·ª§A & V·∫¢I TH·ª¶ C√îNG</button>
                        <button data-filter="dotuong" class="filter-btn w-full text-left py-2 px-4 rounded-lg hover:bg-primary hover:text-white transition font-heading">ƒê·ªí TH·ªú T∆Ø·ª¢NG</button>
                        <button data-filter="gift" class="filter-btn w-full text-left py-2 px-4 rounded-lg hover:bg-primary hover:text-white transition font-heading">QU√Ä T·∫∂NG ESG</button>
                    </div>
                    <h3 class="text-xl font-bold text-primary mt-8 mb-4 border-b pb-2 text-display uppercase tracking-widest">Ti√™u ch√≠ Xanh</h3>
                    <label class="flex items-center space-x-2 text-sm cursor-pointer hover:text-primary transition group">
                        <input type="checkbox" id="green-tag-filter" class="rounded text-primary focus:ring-primary w-4 h-4">
                        <span class="font-medium">Ch·ªâ hi·ªÉn th·ªã "Green Tag" üåø</span>
                    </label>
                </aside>

                <!-- Grid -->
                <section class="md:col-span-9">
                    <div class="flex justify-between items-end mb-8 border-b-2 border-primary/20 pb-4">
                        <div>
                            <h2 class="text-3xl font-bold text-primary text-display uppercase tracking-wider">Ch·ª£ VƒÉn H√≥a S·ªë</h2>
                            <p class="text-xs text-gray-500 mt-1 uppercase tracking-widest">Tinh hoa l√†ng ngh·ªÅ Vi·ªát Nam</p>
                        </div>
                        <button onclick="showPage('home')" class="text-xs font-bold text-gray-400 hover:text-primary transition">‚Üê Quay l·∫°i Trang Ch·ªß</button>
                    </div>
                    <div id="marketplace-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- JS Renders Full Data here -->
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- FOOTER -->
        <footer class="bg-primary text-white mt-10 p-8">
            <div class="container mx-auto grid grid-cols-2 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-2xl font-bold mb-3 text-secondary text-display">VIET SOUL</h3>
                    <p class="text-sm opacity-80">N∆°i l∆∞u gi·ªØ h·ªìn Vi·ªát qua t·ª´ng s·∫£n ph·∫©m th·ªß c√¥ng tinh x·∫£o, t·ª´ l√†ng ngh·ªÅ truy·ªÅn th·ªëng.</p>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-3 border-b border-secondary/50 pb-1 text-display">Danh M·ª•c Ch√≠nh</h4>
                    <ul class="space-y-1 text-sm">
                        <li><a href="#" class="hover:text-secondary transition duration-150">ƒê·ªì G·ªëm S·ª©</a></li>
                        <li><a href="#" class="hover:text-secondary transition duration-150">V·∫£i Th√™u</a></li>
                        <li><a href="#" class="hover:text-secondary transition duration-150">Tranh D√¢n gian</a></li>
                        <li><a href="#" class="hover:text-secondary transition duration-150">ƒê·ªì G·ªó M·ªπ Ngh·ªá</a></li>
                        <li><a href="#" class="hover:text-secondary transition duration-150">Trang S·ª©c</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-3 border-b border-secondary/50 pb-1 text-display">H·ªó Tr·ª£ Kh√°ch H√†ng</h4>
                    <ul class="space-y-1 text-sm">
                        <li><a href="#" class="hover:text-secondary transition duration-150">Li√™n H·ªá</a></li>
                        <li><a href="#" class="hover:text-secondary transition duration-150">Ch√≠nh S√°ch ƒê·ªïi Tr·∫£</a></li>
                        <li><a href="#" class="hover:text-secondary transition duration-150">H∆∞·ªõng D·∫´n Mua H√†ng</a></li>
                        <li><a href="#" class="hover:text-secondary transition duration-150">Tuy·ªÉn D·ª•ng</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-3 border-b border-secondary/50 pb-1 text-display">Li√™n H·ªá</h4>
                    <p class="text-sm">ƒê·ªãa ch·ªâ: 123 Ng≈© H√†nh S∆°n, ƒê√† N·∫µng, Vi·ªát Nam</p>
                    <p class="text-sm">Email: contact@vietsoul.vn</p>
                    <p class="text-sm">ƒêi·ªán tho·∫°i: (024) 1234 5678</p>
                </div>
            </div>
            <div class="text-center text-sm opacity-70 mt-8 pt-4 border-t border-white/20">
                &copy; 2025 Viet Soul. B·∫£o l∆∞u m·ªçi quy·ªÅn.
            </div>
        </footer>

    <!-- PRODUCT DETAIL SIDEBAR -->
    <div id="detail-sidebar" class="fixed inset-y-0 right-0 w-full md:w-[450px] bg-white shadow-2xl z-[60] transform translate-x-full transition-transform duration-500 overflow-y-auto p-8 flex flex-col text-left">
        <div class="flex justify-between items-center border-b border-primary/10 pb-4 mb-6">
            <h3 class="text-2xl font-bold text-primary text-display uppercase">Chi ti·∫øt s·∫£n ph·∫©m</h3>
            <button id="close-sidebar-btn" class="text-gray-300 hover:text-red-600 transition text-2xl">‚ùå</button>
        </div>
        <div id="product-detail-content" class="flex-grow scroll-smooth">
            <div id="product-summary" class="mb-8"></div>
            <div class="border-t border-primary/5 pt-6">
                <div class="flex space-x-1 border-b border-primary/10">
                    <button class="tab-btn active px-4 py-2 text-sm uppercase font-heading" data-tab="story">AI STORYTELLING</button>
                    <button class="tab-btn px-4 py-2 text-sm uppercase font-heading" data-tab="green">GREEN TAG</button>
                </div>
                <div id="tab-story" class="pt-6">
                    <div id="chat-interface" class="bg-[#fcf8f5] h-96 rounded-xl p-4 flex flex-col shadow-inner border border-primary/5">
                        <div id="chat-window" class="flex-grow overflow-y-auto space-y-4 pr-2 text-sm leading-relaxed"></div>
                        <div class="mt-4 flex bg-white rounded-full p-1 border border-primary/10 shadow-sm">
                            <input type="text" id="chat-input" placeholder="H·ªèi AI v·ªÅ ngh·ªá nh√¢n..." class="flex-grow bg-transparent px-4 py-2 text-xs focus:outline-none">
                            <button id="chat-send" class="bg-primary text-white p-2 rounded-full w-10 h-10 flex items-center justify-center hover:bg-red-900 transition">‚Üë</button>
                        </div>
                    </div>
                </div>
                <div id="tab-green" class="pt-6 hidden">
                    <ul id="green-list" class="space-y-4 text-sm text-gray-700 italic"></ul>
                </div>
            </div>
        </div>
        <button class="w-full bg-primary text-white font-bold py-4 rounded-xl hover:shadow-2xl transition mt-8 uppercase font-heading tracking-widest text-sm">TH√äM V√ÄO GI·ªé H√ÄNG</button>
    </div>

    <!-- SCRIPTS -->
    <script type="module">
        // --- MASTER DATA (K·∫æT H·ª¢P D·ªÆ LI·ªÜU C·∫¢ 2 TRANG) ---
        const allProducts = [
            { id: 1, name: "Tranh ƒê√¥ng H·ªì 'M·ª•c ƒê·ªìng'", description: "Tranh G·ªó S∆°n M√†i | L√†ng S√¨nh", price: "150.000", sold: "987", category: "tranh", location: "H√† N·ªôi", artist: "Nguy·ªÖn VƒÉn B", isGreen: true, img: "https://noithatbinhminh.com.vn/wp-content/uploads/2021/11/tranh-dong-ho-06.jpg", fallback: "https://placehold.co/600x400/8B0000/FFF8E1?text=Tranh+ƒê√¥ng+H·ªì", tags: ["M·ª±c in sinh h·ªçc", "Bao b√¨ Kraft t√°i ch·∫ø", "Eco-Delivery"], story: "Tranh M·ª•c ƒê·ªìng c∆∞·ª°i tr√¢u th·ªïi s√°o th·ªÉ hi·ªán c·∫£nh th√°i b√¨nh. Ngh·ªá nh√¢n B ƒë√£ kh·∫Øc g·ªó h∆°n 50 nƒÉm ƒë·ªÉ t·∫°o ra b·∫£n in n√†y." },
            { id: 2, name: "√Åo D√†i L·ª•a T∆° T·∫±m", description: "Ch·∫•t li·ªáu T∆° T·∫±m cao c·∫•p | V·∫°n Ph√∫c", price: "500.000", sold: "2346", category: "lua", location: "H√† N·ªôi", artist: "HTX V·∫°n Ph√∫c", isGreen: true, img: "https://tse3.mm.bing.net/th/id/OIP.lhv8Zf1PwAa9LOToaNPNFgHaJ4?cb=ucfimg2&ucfimg=1&w=2250&h=3000&rs=1&pid=ImgDetMain&o=7&rm=3", fallback: "https://placehold.co/600x400/A0522D/FFF8E1?text=√Åo+D√†i+L·ª•a", tags: ["T∆° t·∫±m t·ª± nhi√™n", "D·ªát tay truy·ªÅn th·ªëng"], story: "L·ª•a V·∫°n Ph√∫c m∆∞·ªõt nh·∫π, nhu·ªôm t·ª´ l√° c√¢y t·ª± nhi√™n, l√† bi·ªÉu t∆∞·ª£ng c·ªßa s·ª± thanh cao ph·ª• n·ªØ Vi·ªát." },
            { id: 3, name: "KhƒÉn Cho√†ng Th·ªï C·∫©m", description: "H·ªça ti·∫øt ƒë·∫πp | L·ª•a Gia Lai", price: "250.000", sold: "6785", category: "lua", location: "Gia Lai", artist: "S·∫Øc Vi·ªát", isGreen: true, img: "https://chus.vn/images/detailed/241/10038_34_F1.jpg", fallback: "https://placehold.co/600x400/B8860B/FFF8E1?text=KhƒÉn+L·ª•a", tags: ["Th√™u tay th·ªß c√¥ng", "Bao b√¨ t√°i ch·∫ø"], story: "Chim c√¥ng ƒë·∫°i di·ªán cho s·ª± quy·ªÅn qu√Ω. KhƒÉn ƒë∆∞·ª£c th√™u tay t·ªâ m·ªâ b·ªüi c√°c ngh·ªá nh√¢n tr·∫ª t·∫°i L√¢m ƒê·ªìng." },
            { id: 4, name: "Hoa gi·∫•y Thanh Ti√™n", description: "Hoa gi·∫•y truy·ªÅn th·ªëng l√¢u ƒë·ªùi | Hu·∫ø", price: "100.000", sold: "1005", category: "gift", location: "Hu·∫ø", artist: "L√†ng Thanh Ti√™n", isGreen: true, img: "https://dulichtudo.vn/wp-content/uploads/2021/03/3-lang-nghe-hoa-giay-thanh-tien-768x512.jpg", fallback: "https://placehold.co/600x400/FF6B35/FFF8E1?text=Hoa+Gi·∫•y", tags: ["Gi·∫•y tre nhu·ªôm m√†u th·ª±c v·∫≠t"], story: "Hoa gi·∫•y Thanh Ti√™n r·ª±c r·ª°, kh√¥ng t√†n, l√† ni·ªÅm t·ª± h√†o c·ªßa v√πng ƒë·∫•t C·ªë ƒë√¥ Hu·∫ø." },
            { id: 5, name: "G·ªëm S·ª© B√°t Tr√†ng", description: "B·ªô ·∫•m ch√©n cao c·∫•p | B√°t Tr√†ng", price: "600.000", sold: "567", category: "gom", location: "H√† N·ªôi", artist: "HTX B√°t Tr√†ng", isGreen: true, img: "https://images.squarespace-cdn.com/content/v1/5ef75ab2b9e1265aaf984ec3/fb7790c5-bf44-4aa3-909d-1016088707c2/Porcelain+faceted.bowls+with+markings.jpeg", fallback: "https://placehold.co/600x400/4A90E2/FFF8E1?text=G·ªëm+B√°t+Tr√†ng", tags: ["ƒê·∫•t s√©t t·ª± nhi√™n", "Nung ti·∫øt ki·ªám ƒëi·ªán"], story: "·∫§m ch√©n ƒë∆∞·ª£c nung ·ªü 1200 ƒë·ªô C, lo·∫°i b·ªè ch√¨ v√† ƒë·ªôc t·ªë, gi·ªØ tr·ªçn h∆∞∆°ng v·ªã tr√† xanh Vi·ªát." },
            { id: 6, name: "Gi·ªè ƒêan Tre", description: "Th·ªß c√¥ng m·ªπ ngh·ªá | Bao La", price: "120.000", sold: "423", category: "gom", location: "Hu·∫ø", artist: "Ngh·ªá nh√¢n T", isGreen: false, img: "https://images.baoangiang.com.vn/image/fckeditor/upload/2023/20231119/images/450afdbf5640801ed951.jpg", fallback: "https://placehold.co/600x400/7CB342/FFF8E1?text=Gi·ªè+Tre", tags: ["Tre gi√† t·ª± nhi√™n"], story: "Tre ƒë∆∞·ª£c ph∆°i n·∫Øng ƒë·ªÉ t·∫°o m√†u √≥ng v√†ng thay v√¨ s·ª≠ d·ª•ng h√≥a ch·∫•t nhu·ªôm c√¥ng nghi·ªáp." },
            { id: 7, name: "T∆∞·ª£ng Quan √Çm G·ªó", description: "L√†ng m·ªôc | Kim B·ªìng", price: "400.000", sold: "76", category: "dotuong", location: "H·ªôi An", artist: "L√†ng ƒê·ªìng K·ªµ", isGreen: true, img: "https://godinh.com/web/image/1714964/image3.png?access_token=b5472d81-b8e6-48c6-925f-d499eb9f49ed", fallback: "https://placehold.co/600x400/8B4513/FFF8E1?text=T∆∞·ª£ng+G·ªó", tags: ["G·ªó qu√Ω t√°i sinh", "Ch·∫°m th·ªß c√¥ng"], story: "S·ª≠ d·ª•ng g·ªó t·ª´ c√°c c√¥ng tr√¨nh ki·∫øn tr√∫c c≈© b·ªã d·ª° b·ªè ƒë·ªÉ ch·∫°m kh·∫Øc th√†nh c√°c t√°c ph·∫©m t√¢m linh." },
            { id: 8, name: "T√∫i V·∫£i Th√™u Sen", description: "V·∫£i B√¥ng T√°i Ch·∫ø | ESG", price: "250.000", sold: "301", category: "lua", location: "TP.HCM", artist: "HTX X√£ h·ªôi X", isGreen: true, img: "https://i.etsystatic.com/32617721/r/il/e9c3b6/3697004149/il_1588xN.3697004149_jjyv.jpg", fallback: "https://placehold.co/600x400/616161/FFF8E1?text=T√∫i+V·∫£i", tags: ["T·∫°o vi·ªác l√†m x√£ h·ªôi", "V·∫£i cotton t√°i ch·∫ø"], story: "M·ªói chi·∫øc t√∫i th√™u tay gi√∫p t·∫°o sinh k·∫ø cho c·ªông ƒë·ªìng ng∆∞·ªùi khuy·∫øt t·∫≠t v∆∞·ª£t kh√≥ t·∫°i TP.HCM." },
            { id: 9, name: "Tranh Ng≈© H·ªï L√†ng S√¨nh", description: "Tranh D√¢n Gian | Di s·∫£n Hu·∫ø", price: "450.000", sold: "1.2K", artist: "Ngh·ªá nh√¢n Nguy·ªÖn VƒÉn B", category: "tranh", location: "Hu·∫ø", img: "https://file.hstatic.net/200000017614/file/tranh-ngu-ho-1_430d9f1800314e81b3e2fb3a27f5c9a6.jpg", fallback: "https://placehold.co/600x400/8B0000/FFF8E1?text=Tranh+Ng≈©+H·ªï", tags: ["Bao b√¨ t√°i ch·∫ø (Kraft)", "M·ª±c in sinh h·ªçc", "Giao h√†ng Carbon th·∫•p (Eco-Delivery)"], story: "Tranh Ng≈© H·ªï l√† bi·ªÉu t∆∞·ª£ng h·ªô m·ªánh c·ªßa ng∆∞·ªùi d√¢n Hu·∫ø. B·ª©c tranh n√†y ƒë∆∞·ª£c kh·∫Øc t·ª´ khu√¥n g·ªó h∆°n 100 nƒÉm tu·ªïi, in b·∫±ng tay v·ªõi m·ª±c sinh h·ªçc. C√¢u chuy·ªán v·ªÅ ng∆∞·ªùi th·ª£ K·ª≥ H·ªØu Ph∆∞·ªõc ƒë√£ gi·ªØ g√¨n b√≠ quy·∫øt n√†y qua 5 th·∫ø h·ªá l√† minh ch·ª©ng cho s·ª± ki√™n tr√¨ v·ªõi di s·∫£n vƒÉn h√≥a phi v·∫≠t th·ªÉ.", isGreen: true },
            { id: 10, name: "B√¨nh G·ªëm Hoa Sen Kh·∫£m", description: "G·ªëm B√°t Tr√†ng | Tinh hoa ƒê·∫•t", price: "890.000", sold: "850", artist: "H·ª£p t√°c x√£ B√°t Tr√†ng", category: "gom", location: "H√† N·ªôi", img: "https://i.etsystatic.com/20886807/r/il/15690c/1977818224/il_1080xN.1977818224_mo5c.jpg", fallback: "https://placehold.co/600x400/4A90E2/FFF8E1?text=G·ªëm+Hoa+Sen", tags: ["S·∫£n xu·∫•t ti·∫øt ki·ªám nƒÉng l∆∞·ª£ng", "Nguy√™n li·ªáu ƒë·∫•t s√©t t·ª± nhi√™n", "Kh√¥ng s·ª≠ d·ª•ng ch√¨/h√≥a ch·∫•t ƒë·ªôc h·∫°i"], story: "B√¨nh g·ªëm n√†y ƒë∆∞·ª£c nung ·ªü nhi·ªát ƒë·ªô th·∫•p h∆°n ti√™u chu·∫©n c√¥ng nghi·ªáp ƒë·ªÉ gi·∫£m ph√°t th·∫£i kh√≠ CO2, nh∆∞ng v·∫´n gi·ªØ ƒë∆∞·ª£c ƒë·ªô b·ªÅn. H·ªça ti·∫øt Hoa Sen t∆∞·ª£ng tr∆∞ng cho s·ª± thanh khi·∫øt, ƒë∆∞·ª£c kh·∫£m th·ªß c√¥ng t·ªâ m·ªâ trong 3 ng√†y.", isGreen: true },
            { id: 11, name: "KhƒÉn L·ª•a V·∫°n Ph√∫c Nhu·ªôm Ch√†m", description: "L·ª•a V·∫°n Ph√∫c | H√† N·ªôi", price: "280.000", sold: "2.1K", artist: "Th∆∞∆°ng hi·ªáu S·∫Øc Vi·ªát", category: "lua", location: "H√† N·ªôi", img: "https://cdn.shopify.com/s/files/1/0101/0450/4401/products/c4-jpg-1575540676767_600x.jpg?v=1575622995", fallback: "https://placehold.co/600x400/A0522D/FFF8E1?text=KhƒÉn+L·ª•a", tags: ["Nhu·ªôm t·ª± nhi√™n (Ch√†m)", "V·∫≠t li·ªáu v·∫£i l·ª•a t∆° t·∫±m", "Bao b√¨ gi·∫•y t√°i ch·∫ø"], story: "S·∫£n ph·∫©m s·ª≠ d·ª•ng ph∆∞∆°ng ph√°p nhu·ªôm Ch√†m truy·ªÅn th·ªëng, kh√¥ng th·∫£i h√≥a ch·∫•t ra m√¥i tr∆∞·ªùng. KhƒÉn l·ª•a m·ªÅm m·∫°i, gi·ªØ ·∫•m t·ªët, l√† m√≥n qu√† l√Ω t∆∞·ªüng cho ng∆∞·ªùi th√¢n y√™u. C√¢u chuy·ªán v·ªÅ ng∆∞·ªùi ph·ª• n·ªØ kh·ªüi nghi·ªáp ·ªü l√†ng l·ª•a V·∫°n Ph√∫c trong th·ªùi ƒë·∫°i s·ªë.", isGreen: true },
            { id: 12, name: "S√°o tr√∫c", description: "Nh·∫°c c·ª• d√¢n t·ªôc | VƒÉn ho√°", price: "170.000", sold: "320", artist: "Ngh·ªá nh√¢n H", category: "gift", location: "Gia Lai", img: "https://i.vdoc.vn/data/image/2019/01/23/sao-truc.jpg", fallback: "https://placehold.co/600x400/920c0c/fcf8f5?text=Qu√†+ESG", tags: ["100% v·∫≠t li·ªáu t√°i ch·∫ø", "S·∫£n ph·∫©m ƒë∆∞·ª£c ch·ª©ng nh·∫≠n Green Tag", "T·∫°o sinh k·∫ø cho 3 l√†ng ngh·ªÅ"], story: "B·ªô qu√† t·∫∑ng ƒë∆∞·ª£c thi·∫øt k·∫ø d√†nh ri√™ng cho doanh nghi·ªáp (B2B) nh·∫±m m·ª•c ƒë√≠ch ESG. Bao g·ªìm m·ªôt m√≥n g·ªëm mini, m·ªôt cu·ªën s·ªï tay t·ª´ gi·∫•y t√°i ch·∫ø v√† m·ªôt postcard Tranh S√¨nh. M·ªói h·ªôp qu√† l√† m·ªôt th√¥ng ƒëi·ªáp v·ªÅ tr√°ch nhi·ªám x√£ h·ªôi.", isGreen: true },
            { id: 13, name: "ƒê·ªì trang tr√≠ m√¢y tre ƒëan", description: "M√¢y Tre ƒêan | Hu·∫ø", price: "150.000", sold: "410", artist: "H·ª£p t√°c x√£ Bao La", category: "gom", location: "Hu·∫ø", img: "https://dantra.vn/uploads/san-pham/thi-cong/decor-tuong/trang-tri-may-tre-dan-16.jpg", fallback: "https://placehold.co/600x400/7CB342/FFF8E1?text=M√¢y+Tre", tags: ["Nguy√™n li·ªáu m√¢y tre t·ª± nhi√™n"], story: "M√≥n ƒë·ªì trang tr√≠ nh√† c·ª≠a, s·ª≠ d·ª•ng nguy√™n li·ªáu m√¢y tre ƒëan t·ª± nhi√™n, ph∆°i n·∫Øng ƒë·ªÉ t·∫°o m√†u, kh√¥ng d√πng thu·ªëc nhu·ªôm c√¥ng nghi·ªáp. S·∫£n ph·∫©m n√†y kh√¥ng c√≥ Green Tag v√¨ v·∫≠n chuy·ªÉn xa, nh∆∞ng ngh·ªá nh√¢n cam k·∫øt v·ªÅ nguy√™n li·ªáu.", isGreen: false },
            { id: 14, name: "Tranh S∆°n M√†i 'Ph·ªë C·ªï'", description: "S∆°n M√†i Cao C·∫•p | H√† N·ªôi", price: "500.000", sold: "55", artist: "H·ªça sƒ© V", category: "tranh", location: "H√† N·ªôi", img: "https://www.kiettacnghethuat.com/wp-content/uploads/ha-noi-moi-tranh-son-mai-pho-cua-hoa-si-nguyen-van-nghia.jpg", fallback: "https://placehold.co/600x400/8B4513/FFF8E1?text=S∆°n+M√†i", tags: ["Nguy√™n li·ªáu nh·ª±a c√¢y s∆°n t·ª± nhi√™n", "Gi·∫£m thi·ªÉu h√≥a ch·∫•t", "ƒê·ªô b·ªÅn tr√™n 50 nƒÉm"], story: "Tranh s∆°n m√†i v·∫Ω phong c·∫£nh Ph·ªë C·ªï, s·ª≠ d·ª•ng nh·ª±a c√¢y s∆°n t·ª± nhi√™n. Quy tr√¨nh ch·∫ø t√°c m·∫•t 6 th√°ng v·ªõi nhi·ªÅu c√¥ng ƒëo·∫°n m√†i v√† ƒë√°nh b√≥ng th·ªß c√¥ng. ƒê√¢y l√† m·ªôt t√°c ph·∫©m ngh·ªá thu·∫≠t c√≥ gi√° tr·ªã ƒë·∫ßu t∆∞ v√† b·ªÅn v·ªØng v·ªÅ m·∫∑t v·∫≠t li·ªáu.", isGreen: true }
        ];

        // --- MOCK CHAT RESPONSES (K·ªäCH B·∫¢N CHAT CHO 14 S·∫¢N PH·∫®M) ---
        const USER_TURN = 'user_turn';
        const mockChatResponses = {};
        allProducts.forEach(p => {
            mockChatResponses[p.id] = [
                { role: 'ai', text: `Ch√†o b·∫°n, t√¥i l√† AI H∆∞·ªõng D·∫´n c·ªßa VietSoul. T√¥i c√≥ th·ªÉ k·ªÉ cho b·∫°n nghe v·ªÅ l·ªãch s·ª≠ c·ªßa <b>${p.name}</b>, √Ω nghƒ©a t·ª´ng chi ti·∫øt, ho·∫∑c ng∆∞·ªùi ngh·ªá nh√¢n t·∫°o ra n√≥. B·∫°n mu·ªën bi·∫øt g√¨?` },
                { role: USER_TURN, text: 'K·ªÉ cho t√¥i nghe v·ªÅ c√¢u chuy·ªán c·ªßa s·∫£n ph·∫©m n√†y ƒëi.' },
                { role: 'ai', text: `Tuy·ªát v·ªùi! ${p.story} S·∫£n ph·∫©m n√†y ƒë·∫øn t·ª´ ${p.location} v√† ƒë∆∞·ª£c t·∫°o ra b·ªüi ${p.artist}. B·∫°n c√≥ mu·ªën bi·∫øt v·ªÅ c√°c ti√™u ch√≠ Xanh (Green Tag) c·ªßa n√≥ kh√¥ng?` }
            ];
        });

        // --- GLOBAL STATE ---
        let currentProductChatId = null;
        let chatHistory = {};

        // --- NAVIGATION ---
        window.showPage = (pageId) => {
            document.getElementById('home-page').classList.toggle('hidden-page', pageId !== 'home');
            document.getElementById('products-page').classList.toggle('hidden-page', pageId !== 'products');
            window.scrollTo({ top: 0, behavior: 'smooth' });
            if (pageId === 'products') renderMarketplace();
        };

        // --- RENDER HOMEPAGE (STYLE CH·ªàNH Y NH∆Ø M·∫™U) ---
        function renderHomeProducts() {
            const grid = document.getElementById('featured-products-grid');
            if (!grid) return;
            // Hi·ªÉn th·ªã 6 s·∫£n ph·∫©m ƒë·∫ßu ti√™n theo style c·ªßa b·∫°n
            const homeItems = allProducts.slice(0, 6);
            grid.innerHTML = homeItems.map(p => `
                <div class="bg-white rounded-lg shadow-lg overflow-hidden group hover:shadow-2xl transition duration-300">
                    <a href="javascript:void(0)" onclick="openProductDetail(${p.id})" class="block">
                        <div class="relative overflow-hidden aspect-square">
                            <img src="${p.img}" alt="${p.name}" class="w-full h-full object-cover transition duration-500 group-hover:scale-110" onerror="this.src='${p.fallback}';">
                        </div>
                    </a>
                    <div class="p-4 bg-white">
                        <h3 class="text-base font-semibold text-gray-800 mb-1 line-clamp-2 hover:text-primary transition duration-200 font-heading">
                            <a href="javascript:void(0)" onclick="openProductDetail(${p.id})">${p.name}</a>
                        </h3>
                        <p class="text-sm text-gray-500 mb-2">${p.description}</p>
                        <div class="flex items-center justify-between">
                            <p class="text-xl font-bold text-primary">${p.price} ‚Ç´</p>
                            <p class="text-xs text-gray-400">ƒê√£ b√°n ${p.sold}</p>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // --- RENDER MARKETPLACE ---
        let filterCat = 'all';
        let greenTag = false;

        function renderMarketplace() {
            const grid = document.getElementById('marketplace-grid');
            const filtered = allProducts.filter(p => (filterCat === 'all' || p.category === filterCat) && (!greenTag || p.isGreen));
            grid.innerHTML = filtered.map(p => `
                <div class="product-card bg-white rounded-xl shadow-md overflow-hidden cursor-pointer" onclick="openProductDetail(${p.id})">
                    <div class="relative h-48 overflow-hidden">
                        <img src="${p.img}" class="w-full h-full object-cover" alt="${p.name}">
                        ${p.isGreen ? '<span class="absolute top-2 right-2 bg-primary text-white text-[10px] px-2 py-1 rounded-full font-bold">üåø</span>' : ''}
                    </div>
                    <div class="p-4">
                        <p class="text-[10px] text-gray-400 uppercase font-bold tracking-widest mb-1">${p.location} | ${p.artist}</p>
                        <h4 class="font-bold text-gray-800 line-clamp-1 mb-2 font-heading uppercase text-sm">${p.name}</h4>
                        <div class="flex justify-between items-center border-t pt-2">
                            <span class="font-black text-primary text-lg">${p.price} ‚Ç´</span>
                            <span class="text-[10px] text-gray-400 font-bold uppercase">B√°n: ${p.sold}</span>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // --- DETAIL & CHAT LOGIC ---
        let activeId = null;
        window.openProductDetail = (id) => {
            const p = allProducts.find(x => x.id === id);
            activeId = id;
            document.getElementById('product-summary').innerHTML = `
                <img src="${p.img}" class="w-full h-44 object-cover rounded-xl shadow-lg mb-6">
                <h4 class="text-3xl font-black text-primary text-display leading-tight uppercase mb-2">${p.name}</h4>
                <p class="text-xs text-gray-400 font-bold uppercase tracking-widest mb-3">${p.artist} ‚Äî ${p.location}</p>
                <div class="bg-gray-50 p-4 rounded-xl flex justify-between items-center border border-primary/5">
                    <span class="text-2xl font-black text-primary">${p.price} ‚Ç´</span>
                    <span class="text-[10px] font-bold text-secondary uppercase">ƒê√£ b√°n ${p.sold}</span>
                </div>
            `;
            document.getElementById('green-list').innerHTML = p.tags.map(t => `<li class="flex items-center space-x-2"><span>‚úÖ</span><p>${t}</p></li>`).join('');
            document.getElementById('chat-window').innerHTML = `<div class="flex justify-start items-start space-x-3"><div class="p-3 chat-bubble-ai rounded-xl shadow-sm text-xs">Ch√†o b·∫°n! T√¥i c√≥ th·ªÉ k·ªÉ cho b·∫°n v·ªÅ di s·∫£n c·ªßa <b>${p.name}</b> ho·∫∑c t√¢m huy·∫øt c·ªßa ngh·ªá nh√¢n <b>${p.artist}</b>. B·∫°n mu·ªën t√¨m hi·ªÉu g√¨?</div></div>`;
            document.getElementById('detail-sidebar').classList.remove('translate-x-full');
        };

        const sendBtn = document.getElementById('chat-send');
        const input = document.getElementById('chat-input');
        const chatWin = document.getElementById('chat-window');

        function handleChat() {
            const val = input.value.trim();
            if (!val || !activeId) return;
            chatWin.innerHTML += `<div class="flex justify-end mb-3"><div class="p-3 chat-bubble-user rounded-xl shadow-sm text-xs">${val}</div></div>`;
            input.value = '';
            chatWin.scrollTop = chatWin.scrollHeight;
            setTimeout(() => {
                const p = allProducts.find(x => x.id === activeId);
                chatWin.innerHTML += `<div class="flex justify-start items-start space-x-3"><div class="p-3 chat-bubble-ai rounded-xl shadow-sm text-xs"><b>VietSoul AI:</b> V·ªÅ ${p.name}, ƒë√¢y l√† c√¢u chuy·ªán: ${p.story}</div></div>`;
                chatWin.scrollTop = chatWin.scrollHeight;
            }, 1000);
        }
        sendBtn.onclick = handleChat;
        input.onkeypress = (e) => e.key === 'Enter' && handleChat();

        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            renderHomeProducts();

            // Filter logic
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.onclick = () => {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    filterCat = btn.dataset.filter;
                    renderMarketplace();
                };
            });
            document.getElementById('green-tag-filter').onchange = (e) => {
                greenTag = e.target.checked;
                renderMarketplace();
            };

            // Sidebar Tabs
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.onclick = () => {
                    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    document.getElementById('tab-story').classList.toggle('hidden', btn.dataset.tab !== 'story');
                    document.getElementById('tab-green').classList.toggle('hidden', btn.dataset.tab !== 'green');
                };
            });
            document.getElementById('close-sidebar-btn').onclick = () => document.getElementById('detail-sidebar').classList.add('translate-x-full');

            // Countdown Timer
            let time = 2 * 24 * 60 * 60;
            setInterval(() => {
                time--;
                const d = Math.floor(time/86400);
                const h = Math.floor((time%86400)/3600);
                const m = Math.floor((time%3600)/60);
                const s = time % 60;
                document.getElementById('days').textContent = d.toString().padStart(2, '0');
                document.getElementById('hours').textContent = h.toString().padStart(2, '0');
                document.getElementById('minutes').textContent = m.toString().padStart(2, '0');
                document.getElementById('seconds').textContent = s.toString().padStart(2, '0');
            }, 1000);

            document.getElementById('user-id-display').textContent = `ID: GUEST_${Math.random().toString(36).substring(7).toUpperCase()}`;
        });
    </script>
</body>
</html>